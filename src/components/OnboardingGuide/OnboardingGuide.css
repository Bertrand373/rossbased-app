/* =============================================================================
   ONBOARDING GUIDE - TITANTRACK
   Premium architectural design with line+dot connector
   ============================================================================= */

/* =============================================================================
   OVERLAY - Dark focus, blocks all interaction
   ============================================================================= */

.onboarding-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: transparent;
  z-index: 10000;
  animation: onboardingFadeIn 400ms ease;
}

/* =============================================================================
   CLICK BLOCKER - Prevents ALL interaction with app below
   ============================================================================= */

.onboarding-blocker {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 10001;
  background: transparent;
  pointer-events: auto;
  cursor: default;
}

/* Only tooltip buttons are interactive - sits above blocker */
.onboarding-tooltip {
  pointer-events: auto;
}

/* Visual elements only - no interaction */
.onboarding-spotlight,
.onboarding-connector,
.onboarding-dot {
  pointer-events: none;
}

@keyframes onboardingFadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* =============================================================================
   SPOTLIGHT - Tight focus with inner vignette
   ============================================================================= */

.onboarding-spotlight {
  position: fixed;
  z-index: 10002; /* Above blocker for visual, but pointer-events: none */
  
  /* Dark surround - 0.92 for maximum focus */
  box-shadow: 
    0 0 0 9999px rgba(0, 0, 0, 0.92),
    /* Inner vignette - draws eye to center */
    inset 0 0 30px 10px rgba(0, 0, 0, 0.3);
  
  /* Inner border - visible white */
  border: 1px solid rgba(255, 255, 255, 0.25);
  
  /* Smooth glide to new position */
  transition: 
    top 450ms cubic-bezier(0.4, 0, 0.2, 1),
    left 450ms cubic-bezier(0.4, 0, 0.2, 1),
    width 450ms cubic-bezier(0.4, 0, 0.2, 1),
    height 450ms cubic-bezier(0.4, 0, 0.2, 1),
    border-radius 450ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Outer glow border - creates depth */
.onboarding-spotlight::before {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: inherit;
  border: 1px solid rgba(255, 255, 255, 0.08);
  pointer-events: none;
}

/* Soft outer glow */
.onboarding-spotlight::after {
  content: '';
  position: absolute;
  inset: -8px;
  border-radius: inherit;
  box-shadow: 0 0 20px 4px rgba(255, 255, 255, 0.06);
  pointer-events: none;
}

/* =============================================================================
   CONNECTOR LINE - Architectural precision
   ============================================================================= */

.onboarding-connector {
  position: fixed;
  width: 1px;
  background: linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.4),
    rgba(255, 255, 255, 0.15)
  );
  z-index: 10003;
  pointer-events: none;
  
  /* Fade in with tooltip */
  opacity: 0;
  transition: opacity 300ms ease 100ms;
}

.onboarding-connector.visible {
  opacity: 1;
}

/* Reverse gradient for top-positioned tooltips */
.onboarding-tooltip.top ~ .onboarding-connector {
  background: linear-gradient(
    to top,
    rgba(255, 255, 255, 0.4),
    rgba(255, 255, 255, 0.15)
  );
}

/* =============================================================================
   TERMINAL DOT - Clean endpoint
   ============================================================================= */

.onboarding-dot {
  position: fixed;
  width: 5px;
  height: 5px;
  background: rgba(255, 255, 255, 0.5);
  border-radius: 50%;
  z-index: 10004;
  pointer-events: none;
  
  /* Fade in with connector */
  opacity: 0;
  transition: opacity 300ms ease 150ms;
}

.onboarding-dot.visible {
  opacity: 1;
}

/* =============================================================================
   TOOLTIP - Clean floating text
   ============================================================================= */

.onboarding-tooltip {
  position: fixed;
  width: calc(100% - 48px);
  max-width: 300px;
  padding: 0;
  z-index: 10005; /* Above blocker (10001) */
  text-align: center;
  pointer-events: auto;
  
  /* Pure floating text - no container */
  background: transparent;
  border: none;
  border-radius: 0;
  
  /* Fade transition */
  transition: opacity 250ms ease, transform 250ms ease;
}

.onboarding-tooltip.visible {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

.onboarding-tooltip.hidden {
  opacity: 0;
  transform: translateX(-50%) translateY(8px);
}

.onboarding-tooltip.top.hidden {
  transform: translateX(-50%) translateY(-8px);
}

/* Initial slide-in animation */
.onboarding-tooltip.bottom.visible {
  animation: tooltipSlideDown 450ms cubic-bezier(0.16, 1, 0.3, 1);
}

.onboarding-tooltip.top.visible {
  animation: tooltipSlideUp 450ms cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes tooltipSlideDown {
  from { 
    opacity: 0; 
    transform: translateX(-50%) translateY(-20px); 
  }
  to { 
    opacity: 1; 
    transform: translateX(-50%) translateY(0); 
  }
}

@keyframes tooltipSlideUp {
  from { 
    opacity: 0; 
    transform: translateX(-50%) translateY(20px); 
  }
  to { 
    opacity: 1; 
    transform: translateX(-50%) translateY(0); 
  }
}

/* =============================================================================
   PROGRESS DOTS - Matches app style
   ============================================================================= */

.onboarding-progress {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-bottom: 16px;
}

.progress-dot {
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  transition: all 400ms cubic-bezier(0.4, 0, 0.2, 1);
}

.progress-dot.active {
  background: #ffffff;
  transform: scale(1.2);
}

.progress-dot.completed {
  background: rgba(255, 255, 255, 0.5);
}

/* =============================================================================
   CONTENT - Sharp typography
   ============================================================================= */

.onboarding-title {
  font-size: 1.0625rem;
  font-weight: 600;
  color: #ffffff;
  margin: 0 0 6px 0;
  letter-spacing: -0.02em;
}

.onboarding-message {
  font-size: 0.8125rem;
  font-weight: 400;
  color: rgba(255, 255, 255, 0.5);
  margin: 0;
  line-height: 1.5;
}

/* =============================================================================
   ACTIONS - Minimal buttons
   ============================================================================= */

.onboarding-actions {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-top: 20px;
}

.onboarding-skip {
  padding: 10px 20px;
  background: transparent;
  border: none;
  border-radius: 8px;
  color: rgba(255, 255, 255, 0.3);
  font-size: 0.8125rem;
  font-weight: 500;
  font-family: inherit;
  cursor: pointer;
  transition: color 150ms ease;
  -webkit-tap-highlight-color: transparent;
}

.onboarding-skip:hover {
  color: rgba(255, 255, 255, 0.5);
}

.onboarding-skip:disabled {
  opacity: 0.5;
  cursor: default;
}

.onboarding-next {
  padding: 10px 24px;
  background: #ffffff;
  border: none;
  border-radius: 8px;
  color: #000000;
  font-size: 0.8125rem;
  font-weight: 600;
  font-family: inherit;
  cursor: pointer;
  transition: opacity 150ms ease, transform 100ms ease;
  -webkit-tap-highlight-color: transparent;
}

.onboarding-next:hover {
  opacity: 0.9;
}

.onboarding-next:active {
  transform: scale(0.97);
}

.onboarding-next:disabled {
  opacity: 0.7;
  cursor: default;
  transform: none;
}

/* =============================================================================
   RESPONSIVE - Mobile adjustments
   ============================================================================= */

@media (max-width: 480px) {
  .onboarding-tooltip {
    width: calc(100% - 40px);
    max-width: 280px;
  }

  .onboarding-title {
    font-size: 1rem;
  }

  .onboarding-message {
    font-size: 0.75rem;
  }

  .onboarding-skip,
  .onboarding-next {
    padding: 9px 18px;
    font-size: 0.75rem;
  }
  
  .progress-dot {
    width: 4px;
    height: 4px;
  }
  
  .onboarding-dot {
    width: 4px;
    height: 4px;
  }
}

/* =============================================================================
   REDUCED MOTION - Accessibility
   ============================================================================= */

@media (prefers-reduced-motion: reduce) {
  .onboarding-spotlight,
  .onboarding-connector,
  .onboarding-dot,
  .onboarding-tooltip,
  .progress-dot {
    transition: none;
  }
  
  .onboarding-tooltip.bottom.visible,
  .onboarding-tooltip.top.visible {
    animation: none;
  }
}

/* =============================================================================
   HIDE ORACLE FAB DURING ONBOARDING
   ============================================================================= */

body:has(.onboarding-overlay) .oracle-float-btn {
  display: none !important;
}